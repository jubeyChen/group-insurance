import{_ as ie,a as ce,b as de}from"./icon_delete-cb30b165.js";import{d as O,G as ue,y as B,r as x,g as Z,C as re,D as q,k as R,o as y,p as ee,w as u,a as e,n as D,u as l,W as me,J,L as ve,M as pe,c as w,b as n,F as N,R as K,m as z,j as L,h as C,Q as _e,s as te,x as ae,_ as le,l as Q,i as he,at as ge,t as P}from"./index-7100064a.js";import{_ as be}from"./FormTitle.vue_vue_type_script_setup_true_lang-b1a90a89.js";import{t as fe,d as ye,j as Se,f as ke,K as we,b as xe,H as $e,T as Ce,h as X,k as De,o as Ee,N as Ie}from"./Select-3038fcf5.js";import{k as Me,E as Y}from"./radio-group-e2b62b45.js";import{u as Ne}from"./pagination-831eabef.js";import{N as Pe}from"./Breadcrumbs-64cdbcc4.js";/* empty css                                                               */let Le=Symbol("GroupContext"),Te=O({name:"Switch",emits:{"update:modelValue":i=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${fe()}`}},inheritAttrs:!1,setup(i,{emit:v,attrs:t,slots:o,expose:V}){let h=ue(Le,null),[S,E]=ye(B(()=>i.modelValue),c=>v("update:modelValue",c),B(()=>i.defaultChecked));function I(){E(!S.value)}let g=x(null),p=h===null?g:h.switchRef,m=Se(B(()=>({as:i.as,type:t.type})),p);V({el:p,$el:p});function k(c){c.preventDefault(),I()}function a(c){c.key===X.Space?(c.preventDefault(),I()):c.key===X.Enter&&De(c.currentTarget)}function r(c){c.preventDefault()}let _=B(()=>{var c,b;return(b=(c=Ee(p))==null?void 0:c.closest)==null?void 0:b.call(c,"form")});return Z(()=>{re([_],()=>{if(!_.value||i.defaultChecked===void 0)return;function c(){E(i.defaultChecked)}return _.value.addEventListener("reset",c),()=>{var b;(b=_.value)==null||b.removeEventListener("reset",c)}},{immediate:!0})}),()=>{let{id:c,name:b,value:A,form:j,...F}=i,G={checked:S.value},U={id:c,ref:p,role:"switch",type:m.value,tabIndex:0,"aria-checked":S.value,"aria-labelledby":h==null?void 0:h.labelledby.value,"aria-describedby":h==null?void 0:h.describedby.value,onClick:k,onKeyup:a,onKeypress:r};return q(R,[b!=null&&S.value!=null?q(ke,we({features:xe.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:S.value,form:j,name:b,value:A})):null,$e({ourProps:U,theirProps:{...t,...Ce(F,["modelValue","defaultChecked"])},slot:G,attrs:t,slots:o,name:"Switch"})])}}});const Ve=O({__name:"Toggle",props:{value:{type:null}},setup(i){return(v,t)=>(y(),ee(l(Te),{"model-value":i.value,as:"template","onUpdate:modelValue":t[0]||(t[0]=o=>v.$emit("update:modelValue",o))},{default:u(({checked:o})=>[e("button",{class:D([o?"bg-primary-500 on":"bg-gray-200 off","relative inline-flex h-7 w-14 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-1 focus:ring-primary-500 focus:ring-offset-2"])},[e("span",{"aria-hidden":"true",class:D([o?"translate-x-7":"translate-x-0","pointer-events-none inline-block h-5 w-5 self-center transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out "])},null,2)],2)]),_:1},8,["model-value"]))}});const oe=me("accountManagement",()=>{const i=x({serialNumber:"",employeeID:"",department:"",name:"",role:{label:"",value:0},accountState:!1,supervisorEmail:""}),v=x([{serialNumber:"20230116170505",employeeID:"W901111",department:"DBTeam",name:"玉南山",role:{label:"內勤人員",value:1},accountState:!0,supervisorEmail:"NSL@mail.com"},{serialNumber:"20230116170505",employeeID:"W902222",department:"AGTeam",name:"玉北山",role:{label:"外勤人員",value:2},accountState:!1,supervisorEmail:"NSL2@mail.com"},{serialNumber:"20230116170505",employeeID:"W904444",department:"AGTeam",name:"玉東山",role:{label:"經理",value:4},accountState:!1,supervisorEmail:"NSL4@mail.com"},{serialNumber:"20230116170505",employeeID:"W906666",department:"DBTeam",name:"玉西山",role:{label:"處長",value:6},accountState:!0,supervisorEmail:"NSL6@mail.com"}]),t=x([{label:"內勤人員",value:1},{label:"外勤人員",value:2},{label:"專員",value:3},{label:"經理",value:4},{label:"科主管",value:5},{label:"處長",value:6}]),o=x("");return{initValues:i,accountManagementDataList:v,options:t,selectOption:o}}),$=i=>(te("data-v-737aea4f"),i=i(),ae(),i),Ae={class:"modal-mask"},Be={class:"content"},Oe={class:"pb-6 flex justify-center align-middle"},je={class:"show-modal"},Fe={class:"show-modal-row"},Ge={class:"show-modal-input"},Ue=$(()=>e("label",{for:"employeeID"},"員工編號",-1)),We={class:"show-modal-input"},Ke=$(()=>e("label",{for:"department"},"部門",-1)),Re={class:"flex items-center mb-4"},Je=$(()=>e("span",{class:"radio-text"},"DB TEAM",-1)),He={class:"flex items-center"},qe=$(()=>e("span",{class:"radio-text"},"AG TEAM",-1)),ze={class:"show-modal-row"},Qe={class:"show-modal-input"},Xe=$(()=>e("label",{for:"name"},"姓名",-1)),Ye={class:"show-modal-input"},Ze=$(()=>e("label",{for:"role"},"角色",-1)),et={class:"show-modal-row"},tt={class:"show-modal-input"},at=$(()=>e("label",{for:"supervisorEmail"},"科主管Email",-1)),lt={class:"show-modal-input"},ot=$(()=>e("label",{for:"accountState"},"帳號狀態",-1)),st={class:"show-modal-button"},nt=O({__name:"AccountManagementForms",emits:["close","onSubmit","update:toggle-change","update:select-change"],setup(i,{emit:v}){const t=oe(),{initValues:o,accountManagementDataList:V,options:h,selectOption:S}=J(t);function E(m){console.log("update:ToggleChange："+m),v("update:toggle-change",m)}function I(m){console.log("update:SelectChange："+m),v("update:select-change",m)}function g(){v("close")}function p(){v("onSubmit")}return ve({account:pe().required("請輸入角色名稱").test("addNewPermissions","必須輸入內容",m=>/^.*/.test(m))}),(m,k)=>(y(),w("div",Ae,[e("div",Be,[n(be,{title:"新增帳號",onClose:g}),e("div",Oe,[e("div",je,[n(l(_e),{"initial-values":l(o),onSubmit:p},{default:u(()=>[e("div",Fe,[e("div",Ge,[Ue,n(l(N),{id:"employeeID",name:"employeeID"},{default:u(({field:a,errorMessage:r})=>[n(K,{"v-bind":a,class:"modal-input",placeholder:"請輸入人員代碼","error-message":r,"v-model":l(o).employeeID},null,8,["v-bind","error-message","v-model"])]),_:1})]),e("div",We,[Ke,n(l(N),{id:"department",name:"department"},{default:u(()=>[n(l(Me),{modelValue:l(o).department,"onUpdate:modelValue":k[0]||(k[0]=a=>l(o).department=a),class:"flex gap-5 pt-3 h-0"},{default:u(()=>[n(l(Y),{value:"DBTeam",class:"w-fit"},{default:u(({checked:a})=>[e("div",Re,[e("span",{class:D(["radio-circle text-[0px]",{"is-checked":a}])},null,2),Je])]),_:1}),n(l(Y),{value:"AGTeam",class:"w-fit"},{default:u(({checked:a})=>[e("div",He,[e("span",{class:D(["radio-circle text-[0px]",{"is-checked":a}])},null,2),qe])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),e("div",ze,[e("div",Qe,[Xe,n(l(N),{id:"name",name:"name"},{default:u(({field:a,value:r,errorMessage:_})=>[n(K,{"v-bind":a,class:"modal-input",placeholder:"請輸入姓名","error-message":_,"model-value":l(o).name=r},null,8,["v-bind","error-message","model-value"])]),_:1})]),e("div",Ye,[Ze,n(l(N),{id:"role",name:"role"},{default:u(({field:a,errorMessage:r})=>[n(Ie,z(a,{class:"modal-input",value:l(o).role.value,"model-value":l(o).role.value,placeholder:"請選擇角色",options:l(h),"error-message":r,"onUpdate:modelValue":I}),null,16,["value","model-value","options","error-message"])]),_:1})])]),e("div",et,[e("div",tt,[at,n(l(N),{id:"supervisorEmail",name:"supervisorEmail"},{default:u(({value:a,field:r,errorMessage:_})=>[n(K,{"v-bind":r,class:"modal-input",placeholder:"請輸入email","error-message":_,"model-value":l(o).supervisorEmail=a},null,8,["v-bind","error-message","model-value"])]),_:1})]),e("div",lt,[ot,n(l(N),{id:"accountState",name:"accountState"},{default:u(({value:a,field:r,errorMessage:_})=>[n(Ve,z({class:"modal-radio-button mt-3"},r,{"error-message":_,"model-value":l(o).accountState=a,"onUpdate:modelValue":E}),null,16,["error-message","model-value"])]),_:1})])]),e("div",st,[n(L,{type:"button",outline:!0,onClick:g},{default:u(()=>[C(" 取消 ")]),_:1}),n(L,{type:"submit"},{default:u(()=>[C(" 確認 ")]),_:1})])]),_:1},8,["initial-values"])])])])]))}});const it=le(nt,[["__scopeId","data-v-737aea4f"]]),T=i=>(te("data-v-c13a955e"),i=i(),ae(),i),ct={class:"account-management-container"},dt={class:"breadcrumb"},ut={class:"box mx-auto w-full"},rt=T(()=>e("h2",{class:"title-text"}," 帳號管理 ",-1)),mt={class:"account-management-title"},vt=T(()=>e("span",{class:"account-management-title-text"},[e("img",{src:ie,alt:""}),C(" 帳號列表 ")],-1)),pt=T(()=>e("span",null," ＋ ",-1)),_t={class:"table-container"},ht=ge('<div class="table-header" data-v-c13a955e><div class="table-header-title1" data-v-c13a955e> 序號 </div><div class="table-header-title2" data-v-c13a955e> 人員代碼 </div><div class="table-header-title3" data-v-c13a955e> 姓名 </div><div class="table-header-title4" data-v-c13a955e> 角色 </div><div class="table-header-title5" data-v-c13a955e> 帳號狀態 </div><div class="table-header-title6" data-v-c13a955e> 操作 </div></div>',1),gt={class:"table-body-item1","data-title":"序　　號："},bt={class:"table-body-item2","data-title":"人員代碼："},ft={class:"table-body-item3","data-title":"姓　　名："},yt={class:"table-body-direction"},St={class:"table-body-item4","data-title":"角　　色："},kt={class:"table-body-direction"},wt={class:"table-body-item5","data-title":"帳號狀態："},xt={class:"table-body-direction w-full"},$t={class:"ms-12"},Ct=["src"],Dt={class:"table-body-item6"},Et=T(()=>e("img",{src:ce,alt:""},null,-1)),It=T(()=>e("img",{src:de,alt:""},null,-1)),Mt={class:"pagination"},Nt=["disabled"],Pt={width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Lt=["onClick"],Tt=["disabled"],Vt={width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},At=O({__name:"AccountManagementView",setup(i){const v=oe(),{initValues:t,accountManagementDataList:o,options:V,selectOption:h}=J(v),S=s=>{console.log("ToggleChanged:",s),t.value.accountState=s},E=s=>{console.log("SelectChanged:",s),t.value.role.value=s},I=[{title:"首頁",path:"/back-home"},{title:"帳號管理",path:"/back-account-management"}],g=x(!1),p=x("add"),m=x(0),k=Ne(),{pageSet:a,totalPages:r}=J(k);function _(){const s=a.value.currentPage-1;a.value.currentPage=s,a.value.totalElements=o.value.length}function c(){const s=a.value.currentPage+1;a.value.currentPage=s,a.value.totalElements=o.value.length}function b(s){s!==a.value.currentPage&&(a.value.currentPage=s,a.value.totalElements=o.value.length)}function A(s){const f=document.getElementById(s);if(f)return!!f.disabled}Z(()=>{k.$reset()});function j(s){o.value.splice(s,1)}function F(){p.value="add",t.value.employeeID="",t.value.department="",t.value.name="",t.value.role={label:"",value:0},h.value="",t.value.accountState=!1,t.value.supervisorEmail="",g.value=!0}function G(s,f){p.value="edit",m.value=f;const d=JSON.parse(JSON.stringify(s));t.value=d,g.value=!0}function U(){t.value.employeeID="",t.value.department="",t.value.name="",t.value.role={label:"",value:0},h.value="",t.value.accountState=!1,t.value.supervisorEmail="",g.value=!1}const se=async()=>{if(p.value==="add"){console.log("新增成功!");const s=t.value.employeeID,f=t.value.department,d=t.value.name,M=t.value.role,W=t.value.accountState,ne=t.value.supervisorEmail,H={serialNumber:"20230116170505",employeeID:s,department:f,name:d,role:M,accountState:W,supervisorEmail:ne};console.log(H),o.value.push(H),g.value=!1}else if(p.value==="edit"){console.log("編輯成功!");const s=o.value[m.value],f=t.value.employeeID;console.log(f),s.employeeID=f,g.value=!1}};return(s,f)=>(y(),w("div",ct,[e("div",dt,[n(Pe,{breadcrumb:I})]),e("div",ut,[rt,e("div",mt,[vt,n(L,{onClick:F},{default:u(()=>[pt,C(" 新增帳號 ")]),_:1})]),e("div",_t,[ht,(y(!0),w(R,null,Q(l(o),(d,M)=>(y(),w("div",{key:M,class:"table-body"},[e("div",gt,P(d.serialNumber),1),e("div",bt,P(d.employeeID),1),e("div",ft,[e("div",yt,P(d.name),1)]),e("div",St,[e("div",kt,P(d.role.label),1)]),e("div",wt,[e("div",xt,[e("div",$t,[e("img",{src:d.accountState?"/images/icons/icon_check.png":"/images/icons/icon_alert_grey.png",class:"inline-block",alt:"State Image"},null,8,Ct),C(" "+P(d.accountState?"啟用":"未啟用"),1)])])]),e("div",Dt,[n(L,{class:"edit-button",onClick:W=>G(d,M)},{default:u(()=>[Et,C(" 編輯 ")]),_:2},1032,["onClick"]),n(L,{class:"delete-button",onClick:W=>j(M)},{default:u(()=>[It,C(" 刪除 ")]),_:2},1032,["onClick"])])]))),128)),e("div",Mt,[e("button",{disabled:l(a).currentPage===1,onClick:_},[(y(),w("svg",Pt,[e("path",{class:D({"disabled-btn":A("pre-btn")}),d:"M6.16602 1.33301L1.49935 5.99967L6.16602 10.6663",stroke:"black","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,2)]))],8,Nt),(y(!0),w(R,null,Q(l(r),d=>(y(),w("button",{key:d,class:D(d===l(a).currentPage?"chosenPageBtn":"unchosenPageBtn"),onClick:M=>b(d)},P(d),11,Lt))),128)),e("button",{disabled:l(a).currentPage===l(r),onClick:c},[(y(),w("svg",Vt,[e("path",{class:D({"disabled-btn":A("next-btn")}),d:"M1.5 1.33301L6.16667 5.99967L1.5 10.6663",stroke:"black","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,2)]))],8,Tt)])])]),g.value?(y(),ee(it,{key:0,class:"nsl-form","init-values":l(t),options:l(V),onClose:U,onOnSubmit:se,"onUpdate:toggleChange":S,"onUpdate:selectChange":E},null,8,["init-values","options"])):he("",!0)]))}});const Rt=le(At,[["__scopeId","data-v-c13a955e"]]);export{Rt as default};

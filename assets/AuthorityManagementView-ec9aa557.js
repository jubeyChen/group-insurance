import{_ as ae,a as ne}from"./icon_delete-7a56ee05.js";import{a0 as le,r as W,d as j,J as Q,L as se,M as oe,o as t,c as a,a as e,b as I,u as c,w as k,l as ce,Q as ie,F as _,j as h,e as x,bL as P,t as m,i as F,h as f,O as de,s as H,x as J,_ as G,a2 as O,g as re,n as T,p as ue,k as D,a6 as be}from"./index-ee8c1cae.js";import{_ as ve}from"./FormTitle.vue_vue_type_script_setup_true_lang-c2ef5d19.js";/* empty css                                                               */import{u as me}from"./pagination-c2702935.js";import{N as _e}from"./Breadcrumbs-7d021867.js";import"./icon_note-96b9c260.js";const he="/group-insurance/images/icons/icon_consent.png",Y=le("authorityManagement",()=>{const p=W("add"),S=W({roleNameInput:""}),M=W([{serialNumber:"20230116170505",roleName:"主任",actions:[[{value:"createWebPreview",actionID:"createWebPreview",label:"預覽",selected:!0},{value:"createWebUploadFiles",actionID:"uploadFiles",label:"上傳文件",selected:!0},{value:"createWebCopyFiles",actionID:"createWebCopyFiles",label:"複製案件",selected:!0},{value:"createWebDeletion",actionID:"createWebDeletion",label:"刪除",selected:!0},{value:"createWebRegistering",actionID:"createWebRegistering",label:"套版",selected:!0},{value:"createWebEdit",actionID:"createWebEdit",label:"編輯",selected:!0},{value:"createWebNew",actionID:"createWebNew",label:"新增",selected:!0},{value:"createWebReview",actionID:"createWebReview",label:"審核",selected:!0},{value:"createWebSecondStageReview",actionID:"createWebSecondStageReview",label:"二階段審核",selected:!0},{value:"createWebRemovedContent",actionID:"createWebRemovedContent",label:"下架內容",selected:!0}],[{value:"reportQueryViewContent",actionID:"reportQueryViewContent",label:"查看內容",selected:!0}],[{value:"dataMaintenanceViewContent",actionID:"dataMaintenanceViewContent",label:"查看內容",selected:!0},{value:"dataMaintenanceDeletion",actionID:"dataMaintenanceDeletion",label:"刪除",selected:!0},{value:"dataMaintenanceEdit",actionID:"dataMaintenanceEdit",label:"編輯",selected:!0},{value:"dataMaintenanceRemovedContent",actionID:"dataMaintenanceRemovedContent",label:"下架",selected:!0},{value:"dataMaintenanceReview",actionID:"dataMaintenanceReview",label:"審核",selected:!0}],[{value:"authorityManagementEdit",actionID:"authorityManagementEdit",label:"編輯",selected:!0},{value:"authorityManagementDeletion",actionID:"authorityManagementDeletion",label:"刪除",selected:!0},{value:"authorityManagementNew",actionID:"authorityManagementNew",label:"新增",selected:!0}],[{value:"accountManagementEdit",actionID:"accountManagementEdit",label:"編輯",selected:!0},{value:"accountManagementDeletion",actionID:"accountManagementDeletion",label:"刪除",selected:!0},{value:"accountManagementNew",actionID:"accountManagementNew",label:"新增",selected:!0}]]},{serialNumber:"20230230141620",roleName:"合作金庫",actions:[[{value:"createWebPreview",actionID:"createWebPreview",label:"預覽",selected:!0},{value:"createWebUploadFiles",actionID:"uploadFiles",label:"上傳文件",selected:!1},{value:"createWebCopyFiles",actionID:"createWebCopyFiles",label:"複製案件",selected:!1},{value:"createWebDeletion",actionID:"createWebDeletion",label:"刪除",selected:!1},{value:"createWebRegistering",actionID:"createWebRegistering",label:"套版",selected:!1},{value:"createWebEdit",actionID:"createWebEdit",label:"編輯",selected:!1},{value:"createWebNew",actionID:"createWebNew",label:"新增",selected:!1},{value:"createWebReview",actionID:"createWebReview",label:"審核",selected:!1},{value:"createWebSecondStageReview",actionID:"createWebSecondStageReview",label:"二階段審核",selected:!1},{value:"createWebRemovedContent",actionID:"createWebRemovedContent",label:"下架內容",selected:!1}],[{value:"reportQueryViewContent",actionID:"reportQueryViewContent",label:"查看內容",selected:!0}],[{value:"dataMaintenanceViewContent",actionID:"dataMaintenanceViewContent",label:"查看內容",selected:!0},{value:"dataMaintenanceDeletion",actionID:"dataMaintenanceDeletion",label:"刪除",selected:!1},{value:"dataMaintenanceEdit",actionID:"dataMaintenanceEdit",label:"編輯",selected:!1},{value:"dataMaintenanceRemovedContent",actionID:"dataMaintenanceRemovedContent",label:"下架",selected:!1},{value:"dataMaintenanceReview",actionID:"dataMaintenanceReview",label:"審核",selected:!1}],[{value:"authorityManagementEdit",actionID:"authorityManagementEdit",label:"編輯",selected:!0},{value:"authorityManagementDeletion",actionID:"authorityManagementDeletion",label:"刪除",selected:!1},{value:"authorityManagementNew",actionID:"authorityManagementNew",label:"新增",selected:!1}],[{value:"accountManagementEdit",actionID:"accountManagementEdit",label:"編輯",selected:!0},{value:"accountManagementDeletion",actionID:"accountManagementDeletion",label:"刪除",selected:!1},{value:"accountManagementNew",actionID:"accountManagementNew",label:"新增",selected:!1}]]},{serialNumber:"20230717190707",roleName:"合作金庫",actions:[[{value:"createWebPreview",actionID:"createWebPreview",label:"預覽",selected:!0},{value:"createWebUploadFiles",actionID:"uploadFiles",label:"上傳文件",selected:!1},{value:"createWebCopyFiles",actionID:"createWebCopyFiles",label:"複製案件",selected:!1},{value:"createWebDeletion",actionID:"createWebDeletion",label:"刪除",selected:!1},{value:"createWebRegistering",actionID:"createWebRegistering",label:"套版",selected:!1},{value:"createWebEdit",actionID:"createWebEdit",label:"編輯",selected:!1},{value:"createWebNew",actionID:"createWebNew",label:"新增",selected:!1},{value:"createWebReview",actionID:"createWebReview",label:"審核",selected:!1},{value:"createWebSecondStageReview",actionID:"createWebSecondStageReview",label:"二階段審核",selected:!1},{value:"createWebRemovedContent",actionID:"createWebRemovedContent",label:"下架內容",selected:!1}],[{value:"reportQueryViewContent",actionID:"reportQueryViewContent",label:"查看內容",selected:!0}],[{value:"dataMaintenanceViewContent",actionID:"dataMaintenanceViewContent",label:"查看內容",selected:!0},{value:"dataMaintenanceDeletion",actionID:"dataMaintenanceDeletion",label:"刪除",selected:!1},{value:"dataMaintenanceEdit",actionID:"dataMaintenanceEdit",label:"編輯",selected:!1},{value:"dataMaintenanceRemovedContent",actionID:"dataMaintenanceRemovedContent",label:"下架",selected:!1},{value:"dataMaintenanceReview",actionID:"dataMaintenanceReview",label:"審核",selected:!1}],[{value:"authorityManagementEdit",actionID:"authorityManagementEdit",label:"編輯",selected:!0},{value:"authorityManagementDeletion",actionID:"authorityManagementDeletion",label:"刪除",selected:!1},{value:"authorityManagementNew",actionID:"authorityManagementNew",label:"新增",selected:!1}],[{value:"accountManagementEdit",actionID:"accountManagementEdit",label:"編輯",selected:!0},{value:"accountManagementDeletion",actionID:"accountManagementDeletion",label:"刪除",selected:!1},{value:"accountManagementNew",actionID:"accountManagementNew",label:"新增",selected:!1}]]}]),u=W([{buttonName:"創建網站",index:0},{buttonName:"報表查詢",index:1},{buttonName:"資料維護",index:2},{buttonName:"權限管理",index:3},{buttonName:"帳號管理",index:4}]),N=W([[{value:"createWebPreview",actionID:"createWebPreview",label:"預覽",selected:!1},{value:"createWebUploadFiles",actionID:"uploadFiles",label:"上傳文件",selected:!1},{value:"createWebCopyFiles",actionID:"createWebCopyFiles",label:"複製案件",selected:!1},{value:"createWebDeletion",actionID:"createWebDeletion",label:"刪除",selected:!1},{value:"createWebRegistering",actionID:"createWebRegistering",label:"套版",selected:!1},{value:"createWebEdit",actionID:"createWebEdit",label:"編輯",selected:!1},{value:"createWebNew",actionID:"createWebNew",label:"新增",selected:!1},{value:"createWebReview",actionID:"createWebReview",label:"審核",selected:!1},{value:"createWebSecondStageReview",actionID:"createWebSecondStageReview",label:"二階段審核",selected:!1},{value:"createWebRemovedContent",actionID:"createWebRemovedContent",label:"下架內容",selected:!1}],[{value:"reportQueryViewContent",actionID:"reportQueryViewContent",label:"查看內容",selected:!1}],[{value:"dataMaintenanceViewContent",actionID:"dataMaintenanceViewContent",label:"查看內容",selected:!1},{value:"dataMaintenanceDeletion",actionID:"dataMaintenanceDeletion",label:"刪除",selected:!1},{value:"dataMaintenanceEdit",actionID:"dataMaintenanceEdit",label:"編輯",selected:!1},{value:"dataMaintenanceRemovedContent",actionID:"dataMaintenanceRemovedContent",label:"下架",selected:!1},{value:"dataMaintenanceReview",actionID:"dataMaintenanceReview",label:"審核",selected:!1}],[{value:"authorityManagementEdit",actionID:"authorityManagementEdit",label:"編輯",selected:!1},{value:"authorityManagementDeletion",actionID:"authorityManagementDeletion",label:"刪除",selected:!1},{value:"authorityManagementNew",actionID:"authorityManagementNew",label:"新增",selected:!1}],[{value:"accountManagementEdit",actionID:"accountManagementEdit",label:"編輯",selected:!1},{value:"accountManagementDeletion",actionID:"accountManagementDeletion",label:"刪除",selected:!1},{value:"accountManagementNew",actionID:"accountManagementNew",label:"新增",selected:!1}]]);return{initValues:S,authorityManagementDataList:M,navButton:u,checkBoxes:N,modeState:p}}),R=p=>(H("data-v-991f0268"),p=p(),J(),p),pe={class:"modal-mask"},ge={class:"content"},De={class:"content-box pb-6 flex justify-center align-middle"},fe={class:"show-modal"},Ie={class:"show-modal-body"},we={class:"show-modal-input"},Me=R(()=>e("label",{for:"roleNameInput"},"角色名稱",-1)),ye={class:"show-modal-table"},We=R(()=>e("label",{class:"show-modal-label",for:"roleNameInput"}," 管理權限 ",-1)),Ne={class:"show-table-container"},Ce={class:"table-container"},ke=R(()=>e("div",{class:"container-title"}," 創建網站 ",-1)),Re={class:"check-container"},Se=["id","onUpdate:modelValue"],$e=["for"],Ee=R(()=>e("div",{class:"container-title"}," 報表查詢 ",-1)),Ve={class:"check-container"},xe=["id","onUpdate:modelValue"],Pe=["for"],Fe=R(()=>e("div",{class:"container-title"}," 資料維護 ",-1)),Ue={class:"check-container"},Ae=["id","onUpdate:modelValue"],Le=["for"],Te=R(()=>e("div",{class:"container-title"}," 權限管理 ",-1)),Qe={class:"check-container"},qe=["id","onUpdate:modelValue"],Oe=["for"],je=R(()=>e("div",{class:"container-title"}," 帳號管理 ",-1)),He={class:"check-container"},Je=["id","onUpdate:modelValue"],Ge=["for"],Ye={class:"show-modal-button"},ze=j({__name:"AuthorityManagementForms",props:{currentNavButton:{type:Number,default:0}},emits:["close","on-submit"],setup(p,{emit:S}){const M=Y(),{initValues:u,authorityManagementDataList:N,navButton:$,checkBoxes:C,modeState:y}=Q(M);function U(){S("close")}function A(){S("on-submit")}const E=se({account:oe().required("請輸入角色名稱").test("roleNameInput","必須輸入內容",V=>/^.*/.test(V))});return(V,d)=>(t(),a("div",pe,[e("div",ge,[I(ve,{title:c(y)==="add"?"新增角色":"編輯角色",onClose:U},null,8,["title"]),e("div",De,[e("div",fe,[I(c(de),{"validation-schema":c(E),"initial-values":c(u)},{default:k(()=>[e("div",Ie,[e("div",we,[Me,I(c(ce),{id:"roleNameInput",name:"roleNameInput"},{default:k(({field:n,errorMessage:b})=>[I(ie,{modelValue:c(u).roleNameInput,"onUpdate:modelValue":d[0]||(d[0]=v=>c(u).roleNameInput=v),"v-bind":n,class:"modal-input",placeholder:"系統管理員","error-message":b},null,8,["modelValue","v-bind","error-message"])]),_:1})]),e("div",ye,[We,e("div",Ne,[e("div",Ce,[ke,e("div",Re,[(t(!0),a(_,null,h(c(C)[0],(n,b)=>(t(),a("div",{key:b,class:"check-box"},[x(e("input",{id:n.actionID,"onUpdate:modelValue":v=>n.selected=v,type:"checkbox"},null,8,Se),[[P,n.selected]]),e("label",{class:"check-label",for:n.actionID},m(n.label),9,$e)]))),128))]),Ee,e("div",Ve,[(t(!0),a(_,null,h(c(C)[1],(n,b)=>(t(),a("div",{key:b,class:"check-box"},[x(e("input",{id:n.actionID,"onUpdate:modelValue":v=>n.selected=v,type:"checkbox"},null,8,xe),[[P,n.selected]]),e("label",{class:"check-label",for:n.actionID},m(n.label),9,Pe)]))),128))]),Fe,e("div",Ue,[(t(!0),a(_,null,h(c(C)[2],(n,b)=>(t(),a("div",{key:b,class:"check-box"},[x(e("input",{id:n.actionID,"onUpdate:modelValue":v=>n.selected=v,type:"checkbox"},null,8,Ae),[[P,n.selected]]),e("label",{class:"check-label",for:n.actionID},m(n.label),9,Le)]))),128))]),Te,e("div",Qe,[(t(!0),a(_,null,h(c(C)[3],(n,b)=>(t(),a("div",{key:b,class:"check-box"},[x(e("input",{id:n.actionID,"onUpdate:modelValue":v=>n.selected=v,type:"checkbox"},null,8,qe),[[P,n.selected]]),e("label",{class:"check-label",for:n.actionID},m(n.label),9,Oe)]))),128))]),je,e("div",He,[(t(!0),a(_,null,h(c(C)[4],(n,b)=>(t(),a("div",{key:b,class:"check-box"},[x(e("input",{id:n.actionID,"onUpdate:modelValue":v=>n.selected=v,type:"checkbox"},null,8,Je),[[P,n.selected]]),e("label",{class:"check-label",for:n.actionID},m(n.label),9,Ge)]))),128))])])])])]),e("div",Ye,[I(F,{outline:!0,onClick:U},{default:k(()=>[f(" 取消 ")]),_:1}),I(F,{type:"submit",onClick:A},{default:k(()=>[f(" 確認 ")]),_:1})])]),_:1},8,["validation-schema","initial-values"])])])])]))}});const Ke=G(ze,[["__scopeId","data-v-991f0268"]]),w=p=>(H("data-v-5a29a554"),p=p(),J(),p),Xe={class:"query-view"},Ze={class:"query-container"},Be={class:"breadcrumb-area"},et={class:"query-area"},tt=w(()=>e("h2",{class:"query-title-text"}," 權限管理 ",-1)),at={class:"query-title"},nt=w(()=>e("span",{class:"title-img"},[e("img",{src:he,alt:""}),f(" 權限列表 ")],-1)),lt=w(()=>e("span",null," ＋ ",-1)),st={class:"query-table"},ot=be('<div class="query-header" data-v-5a29a554><div class="w-[98%] mx-auto flex text-center" data-v-5a29a554><span class="w-[20%]" data-v-5a29a554>序號</span><span class="w-[20%]" data-v-5a29a554>角色名稱</span><span class="w-[30%]" data-v-5a29a554>角色名稱</span><span class="w-[30%]" data-v-5a29a554>操作</span></div></div>',1),ct={class:"tableDirection w-[98%] mx-auto","aria-hidden":"true"},it={class:"table-body-serial-number flex justify-center items-center w-[20%]","data-title":"序號："},dt={class:"table-body-role-name w-[20%]","data-title":"角色名稱："},rt={class:"table-body-permissions w-[30%]","data-title":"角色權限："},ut={class:"table-body-item-text"},bt=w(()=>e("div",null,"創建網站-",-1)),vt={key:0},mt={key:0,class:"separate"},_t={class:"table-body-item-text"},ht=w(()=>e("div",null,"報價查詢-",-1)),pt={key:0},gt={class:"table-body-item-text"},Dt=w(()=>e("div",null,"資料維護-",-1)),ft={key:0},It={key:0,class:"separate"},wt={class:"table-body-item-text"},Mt=w(()=>e("div",null,"權限管理-",-1)),yt={key:0},Wt={key:0,class:"separate"},Nt={class:"table-body-item-text"},Ct=w(()=>e("div",null,"帳號管理-",-1)),kt={key:0},Rt={key:0,class:"separate"},St={class:"table-body-action w-[30%]"},$t=w(()=>e("img",{src:ae,alt:""},null,-1)),Et=w(()=>e("img",{src:ne,alt:""},null,-1)),Vt={class:"pagination"},xt=["disabled"],Pt={width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ft=["onClick"],Ut=["disabled"],At={width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Lt=j({__name:"AuthorityManagementView",setup(p){const S=Y(),{initValues:M,authorityManagementDataList:u,modeState:N,checkBoxes:$}=Q(S),C=[{title:"首頁",path:O.BACKHOME},{title:"權限管理",path:O.AUTHORITY_MANAGEMENT}],y=W(!1),U=W(0),A=W(0),E=(o,r)=>{for(let l=r.length-1;l>o;l--)if(r[l].selected)return!1;return!0},V=me(),{pageSet:d,totalPages:n}=Q(V),b=()=>{const o=d.value.currentPage-1;d.value.currentPage=o,d.value.totalElements=u.value.length},v=()=>{const o=d.value.currentPage+1;d.value.currentPage=o,d.value.totalElements=u.value.length},z=o=>{o!==d.value.currentPage&&(d.value.currentPage=o,d.value.totalElements=u.value.length)},q=o=>{const r=document.getElementById(o);if(r)return!!r.disabled};re(()=>{V.$reset()});const K=o=>{u.value.splice(o,1)},X=()=>{N.value="add",M.value.roleNameInput="";for(const o of $.value)for(const r of o)r.selected=!1;y.value=!0},Z=(o,r)=>{N.value="edit",A.value=r;const l=JSON.parse(JSON.stringify(o));M.value.roleNameInput=l.roleName;const{actions:g}=l;g.forEach((s,i)=>{s.forEach((L,te)=>{$.value[i][te].selected=L.selected})}),y.value=!0},B=()=>{M.value.roleNameInput="";for(const o of $.value)for(const r of o)r.selected=!1;y.value=!1},ee=async()=>{if(N.value==="add"){const o=M.value.roleNameInput,r=$.value,g={serialNumber:(()=>{const s=new Date;return`${s.getFullYear()}${String(s.getMonth()+1).padStart(2,"0")}${String(s.getDate()).padStart(2,"0")}${String(s.getHours()).padStart(2,"0")}${String(s.getMinutes()).padStart(2,"0")}${String(s.getSeconds()).padStart(2,"0")}`})(),roleName:o,actions:r};u.value.push(g),y.value=!1}else if(N.value==="edit"){const o=u.value[A.value],r=M.value.roleNameInput,l=$.value.map((g,s)=>g.map((i,L)=>({...o.actions[s][L],selected:i.selected})));o.roleName=r,o.actions=l,y.value=!1}};return(o,r)=>(t(),a("div",Xe,[e("div",Ze,[e("div",Be,[I(_e,{breadcrumb:C})]),e("div",et,[tt,e("div",at,[nt,I(F,{onClick:X},{default:k(()=>[lt,f(" 新增角色 ")]),_:1})]),e("div",st,[ot,(t(!0),a(_,null,h(c(u),(l,g)=>(t(),a("div",{key:g,class:"authority-body"},[e("table",ct,[e("tr",it,m(l.serialNumber),1),e("tr",dt,m(l.roleName),1),e("tr",rt,[e("div",null,[e("div",ut,[bt,(t(!0),a(_,null,h(l.actions[0],(s,i)=>(t(),a("span",{key:i},[s.selected?(t(),a("span",vt,[f(m(s.label),1),E(i,l.actions[0])?D("",!0):(t(),a("span",mt,","))])):D("",!0)]))),128))]),e("div",_t,[ht,(t(!0),a(_,null,h(l.actions[1],(s,i)=>(t(),a("span",{key:i},[s.selected?(t(),a("span",pt,m(s.label),1)):D("",!0)]))),128))]),e("div",gt,[Dt,(t(!0),a(_,null,h(l.actions[2],(s,i)=>(t(),a("span",{key:i,class:"table-body-item-text"},[s.selected?(t(),a("span",ft,[f(m(s.label),1),E(i,l.actions[2])?D("",!0):(t(),a("span",It,","))])):D("",!0)]))),128))]),e("div",wt,[Mt,(t(!0),a(_,null,h(l.actions[3],(s,i)=>(t(),a("span",{key:i,class:"table-body-item-text"},[s.selected?(t(),a("span",yt,[f(m(s.label),1),E(i,l.actions[3])?D("",!0):(t(),a("span",Wt,","))])):D("",!0)]))),128))]),e("div",Nt,[Ct,(t(!0),a(_,null,h(l.actions[4],(s,i)=>(t(),a("span",{key:i,class:"table-body-item-text"},[s.selected?(t(),a("span",kt,[f(m(s.label),1),E(i,l.actions[4])?D("",!0):(t(),a("span",Rt,","))])):D("",!0)]))),128))])])]),e("tr",St,[I(F,{class:"edit-button",onClick:s=>Z(l,g)},{default:k(()=>[$t,f(" 編輯 ")]),_:2},1032,["onClick"]),I(F,{class:"delete-button",onClick:s=>K(g)},{default:k(()=>[Et,f(" 刪除 ")]),_:2},1032,["onClick"])])])]))),128)),e("div",Vt,[e("button",{disabled:c(d).currentPage===1,onClick:b},[(t(),a("svg",Pt,[e("path",{class:T({"disabled-btn":q("pre-btn")}),d:"M6.16602 1.33301L1.49935 5.99967L6.16602 10.6663",stroke:"black","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,2)]))],8,xt),(t(!0),a(_,null,h(c(n),l=>(t(),a("button",{key:l,class:T(l===c(d).currentPage?"chosenPageBtn":"unchosenPageBtn"),onClick:g=>z(l)},m(l),11,Ft))),128)),e("button",{disabled:c(d).currentPage===c(n),onClick:v},[(t(),a("svg",At,[e("path",{class:T({"disabled-btn":q("next-btn")}),d:"M1.5 1.33301L6.16667 5.99967L1.5 10.6663",stroke:"black","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,2)]))],8,Ut)])])]),y.value?(t(),ue(Ke,{key:0,"current-nav-button":U.value,onClose:B,onOnSubmit:ee},null,8,["current-nav-button"])):D("",!0)])]))}});const Gt=G(Lt,[["__scopeId","data-v-5a29a554"]]);export{Gt as default};
